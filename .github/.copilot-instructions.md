# GitHub Copilot Instructions

This file provides guidance for GitHub Copilot when working with this repository.

## Project Overview

Modern portfolio website for Carlos Pomares built with Next.js 15, TypeScript, Tailwind CSS, and file-based blog system. Features dark mode, smooth animations, and a fully responsive design.

## Technology Stack & Patterns

### Core Technologies
- **Next.js 15** with App Router and React Server Components
- **TypeScript** with strict mode enabled
- **Tailwind CSS** with semantic color tokens and dark mode
- **Framer Motion** for scroll-triggered animations
- **Markdown** for blog content (GitHub Pages style) with ISR
- **next-themes** for dark mode toggle

### Architecture Patterns

#### Component Structure
- **UI Components** (`src/components/ui/`): Reusable primitives with variant-based styling
- **Section Components** (`src/components/sections/`): Page sections with animations
- **Layout Components** (`src/components/layout/`): Header, Navigation, Footer
- **Animation Wrappers** (`src/components/animations/`): Framer Motion utilities

#### Code Conventions
```typescript
// Use this pattern for UI components with variants
import { cn } from '@/lib/utils'
import { cva } from 'class-variance-authority'

const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-md font-medium transition-colors",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        outline: "border border-input bg-background hover:bg-accent"
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3"
      }
    },
    defaultVariants: { variant: "default", size: "default" }
  }
)
```

#### Animation Patterns
```typescript
// Use this pattern for scroll-triggered animations
import { useInView } from 'framer-motion'
import { useRef } from 'react'

export function AnimatedSection({ children }: { children: React.ReactNode }) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true, margin: "-100px" })
  
  return (
    <motion.div
      ref={ref}
      initial={{ opacity: 0, y: 50 }}
      animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 50 }}
      transition={{ duration: 0.8, ease: "easeOut" }}
    >
      {children}
    </motion.div>
  )
}
```

#### Server vs Client Components
- **Default to Server Components** for better performance
- **Use Client Components only when needed**:
  - Animations and motion
  - Interactive state management
  - Theme toggle functionality
  - Browser-only APIs

```typescript
// Client component pattern
'use client'
import { useTheme } from 'next-themes'
import { useEffect, useState } from 'react'

// Server component pattern (default)
export async function SomeSection() {
  // Direct data access, no hooks
  return <div>Server rendered content</div>
}
```

### Styling Guidelines

#### Tailwind Patterns
```css
/* Use semantic color tokens */
.bg-background .text-foreground
.bg-primary .text-primary-foreground
.bg-card .text-card-foreground

/* Dark mode classes */
.dark .bg-background .dark .text-foreground

/* Common responsive patterns */
.grid-cols-1 .md:grid-cols-2 .lg:grid-cols-3
.text-sm .md:text-base .lg:text-lg
```

#### Component Styling
- Use `cn()` utility for conditional classes: `cn("base-class", condition && "conditional-class")`
- Prefer Tailwind utilities over custom CSS
- Use CSS variables for theme colors (defined in `globals.css`)

### Data Management Patterns

#### Static Data
```typescript
// Pattern for data files (src/data/)
export const projects: Project[] = [
  {
    id: 1,
    title: "Project Name",
    description: "Project description",
    technologies: ["Next.js", "TypeScript"],
    githubUrl: "https://github.com/user/repo",
    liveUrl: "https://example.com",
    image: "/images/project.jpg"
  }
]
```

#### File-based Blog Integration
```typescript
// Pattern for blog queries
export async function getBlogPosts() {
  const postsDirectory = path.join(process.cwd(), 'blog')
  const filenames = fs.readdirSync(postsDirectory)
  
  const posts = filenames
    .filter(name => name.endsWith('.md'))
    .map(name => {
      const filePath = path.join(postsDirectory, name)
      const fileContents = fs.readFileSync(filePath, 'utf8')
      const { data, content } = matter(fileContents)
      
      return {
        slug: name.replace(/^\.md$/, ''),
        title: data.title,
        date: data.date,
        summary: data.summary,
        content
      }
    })
    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())
    
  return posts
}
```

### Internationalization Patterns

```typescript
// Pattern for using translations
import { useLanguage } from '@/lib/i18n/LanguageContext'

export function SomeComponent() {
  const { t, locale } = useLanguage()
  
  return (
    <div>
      <h1>{t.hero.title}</h1>
      <p>{t.hero.subtitle}</p>
    </div>
  )
}

// Pattern for adding new translations
// src/lib/i18n/translations.ts
export const translations = {
  en: {
    hero: {
      title: "Welcome",
      subtitle: "Portfolio website"
    }
  },
  es: {
    hero: {
      title: "Bienvenido", 
      subtitle: "Sitio web de portafolio"
    }
  }
}
```

## Development Workflow

### Common Tasks

#### Adding a New Section
1. Create component in `src/components/sections/`
2. Use animation wrappers for scroll effects
3. Add to `src/app/page.tsx`
4. Add translations to `src/lib/i18n/translations.ts`

#### Adding a New Project
Edit `src/data/projects.ts` and add to the `projects` array with proper typing.

#### Modifying Styling
- Use Tailwind utilities in components
- Modify CSS variables in `src/app/globals.css` for theme colors
- Update `tailwind.config.ts` for custom utilities

### Testing Checklist Before Committing
```bash
npm run lint           # ESLint validation
npm run type-check     # TypeScript validation  
npm run build          # Production build test
```

Manual testing:
- [ ] Light and dark mode toggle works
- [ ] English/Spanish language switching works
- [ ] Mobile responsive design (Chrome DevTools)
- [ ] All animations trigger on scroll
- [ ] No console errors in browser dev tools

### File Organization Rules

```
src/
├── app/                # Next.js App Router (pages)
├── components/
│   ├── animations/     # Framer Motion wrappers
│   ├── layout/        # Header, Navigation, Footer
│   ├── sections/      # Page sections (Hero, Projects, etc)
│   ├── ui/            # Reusable UI primitives
│   └── providers/     # Context providers
├── lib/
│   ├── i18n/          # Internationalization
│   ├── blog/          # File-based blog utilities
│   └── utils.ts       # Utility functions
├── data/              # Static data (projects, experience, etc)
├── types/             # TypeScript type definitions
└── config/            # Site configuration
```

### Environment Variables

Required in `.env.local`:
```env
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=Carlos Pomares
```

Note: No external API credentials needed - blog posts are read from the file system.

## Code Quality Standards

### TypeScript Rules
- Use strict mode (enabled in `tsconfig.json`)
- Avoid `any` types in TypeScript code
- Define proper interfaces in `src/types/index.ts`
- Use generic types for reusable components

### Component Best Practices
- Prefer composition over inheritance
- Use proper TypeScript prop types
- Include accessibility attributes (ARIA labels, semantic HTML)
- Implement proper error boundaries for client components

### Performance Guidelines
- Leverage Server Components for static content
- Use ISR for blog pages (60-second revalidation)
- Optimize images with Next.js `Image` component
- Minimize client-side JavaScript bundles

## Deployment & CI/CD

### Vercel Deployment
1. Push to GitHub
2. Import in Vercel dashboard
3. Add environment variables
4. Automatic deployments on push to `main`

### GitHub Actions
- **CI Pipeline**: Runs ESLint, TypeScript check, and build on PRs
- **Auto-labeling**: Labels PRs based on changed files
- **Dependabot**: Weekly dependency updates

Build output shows:
- Static pages: `/`, `/_not-found` 
- ISR pages: `/blog` (60s revalidation)
- SSG pages: `/blog/[slug]` (build-time generation)